<div class="flex items-center justify-between gap-2 p-4 bg-white rounded-xl border border-slate-200 shadow-sm">
  <div class="min-w-0 flex-1 space-y-1">
    <div>
      <span class="font-semibold text-slate-800">{{ word().word }}</span>
      @if (word().translation) {
        <span class="text-slate-500 ml-2">â€” {{ word().translation }}</span>
      }
      @if (word().partOfSpeech) {
        <span class="text-slate-400 text-sm ml-2">({{ word().partOfSpeech }})</span>
      }
      @if (word().transcription) {
        <span class="text-slate-400 text-sm ml-2">{{ word().transcription }}</span>
      }
    </div>
    @if (word().description) {
      <p class="text-sm text-slate-600 line-clamp-2">{{ word().description }}</p>
    }
    @if (word().tags?.length) {
      <div class="flex flex-wrap gap-1">
        @for (tag of word().tags; track tag) {
          <span class="text-xs px-1.5 py-0.5 rounded bg-slate-100 text-slate-600">{{ tag }}</span>
        }
      </div>
    }
    @if (word().createdAt) {
      <p class="text-xs text-slate-400">Added {{ word().createdAt | date:'d MMM y' }}</p>
    }
  </div>

  <div class="flex items-center gap-1 shrink-0">
    <button
      type="button"
      (click)="openEdit()"
      class="p-2 rounded-lg text-slate-600 hover:bg-slate-100"
      title="Edit"
      data-testid="edit-word-button"
    >
      <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"/><path d="m15 5 4 4"/></svg>
    </button>

    @if (!confirmDelete) {
      <button
        type="button"
        (click)="confirmDelete = true"
        class="p-2 rounded-lg text-slate-600 hover:bg-red-50 hover:text-red-600"
        title="Delete"
        data-testid="delete-word-button"
      >
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" x2="10" y1="11" y2="17"/><line x1="14" x2="14" y1="11" y2="17"/></svg>
      </button>
    } @else {
      <span class="text-sm text-slate-600 mr-1" data-testid="delete-confirm-prompt">Delete?</span>
      <button type="button" (click)="deleteWord()" class="px-2 py-1 text-sm bg-red-500 text-white rounded" data-testid="delete-confirm-yes">Yes</button>
      <button type="button" (click)="confirmDelete = false" class="px-2 py-1 text-sm bg-slate-200 rounded">No</button>
    }
  </div>
</div>
